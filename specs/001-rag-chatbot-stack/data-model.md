# Data Model: RAG Chatbot Stack

## 1. Document Chunk

Represents a segment of text extracted from a Docusaurus Markdown file, intended for ingestion into the vector database (Qdrant).

### Attributes
-   **id**: Unique identifier for the document chunk (e.g., UUID or hash of content + source).
-   **content**: The textual content of the chunk (string).
-   **embedding**: A vector representation of the `content`, generated by OpenAI's `text-embedding-3-small` model (list of floats).
-   **source_file**: The original Markdown file path from which the chunk was extracted (string).
-   **start_line**: The starting line number of the chunk within the `source_file` (integer).
-   **end_line**: The ending line number of the chunk within the `source_file` (integer).
-   **metadata**: Additional structured information about the chunk (e.g., Docusaurus frontmatter, section titles) (dictionary/object).

### Relationships
-   Each `Document Chunk` is associated with a specific `source_file`.

## 2. User Query

Represents the text input provided by the user to the RAG chatbot.

### Attributes
-   **text**: The natural language question or statement from the user (string).

### Relationships
-   A `User Query` triggers the retrieval of `Document Chunks` and the generation of an `AI Response`.

## 3. AI Response

Represents the chatbot's answer to a `User Query`, derived from the retrieved `Document Chunks` and processed by an OpenAI GPT-4o model.

### Attributes
-   **answer**: The generated answer from the AI model (string).
-   **sources**: A list of references to the `Document Chunks` or original `source_files` that were used to formulate the answer (list of objects).
    -   Each source object typically includes:
        -   **file**: The `source_file` path (string).
        -   **start_line**: The approximate `start_line` in the source (integer).
        -   **end_line**: The approximate `end_line` in the source (integer).
        -   **title**: The title of the source document/section (string, derived from metadata).
